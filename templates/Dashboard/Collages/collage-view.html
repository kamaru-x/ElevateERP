{% extends 'Dashboard/base.html' %}
{% load static %}

{% block page %} 
    <li class="breadcrumb-item" aria-current="page">Collage</li>
    <li class="breadcrumb-item active" aria-current="page">Add</li>
{% endblock page %}

{% block content %}

<!-- BEGIN: Notification -->
{% if messages %}
    {% for message in messages %}
        <div class="intro-y col-span-11 alert alert-{{ message.tags }} alert-dismissible show flex items-center mb-6 mt-5 text-white" role="alert">
            <span><i data-lucide="info" class="w-4 h-4 mr-2"></i></span>
            <span>{{ message }}</span>
            <button type="button" class="btn-close text-white" data-tw-dismiss="alert" aria-label="Close"> <i data-lucide="x" class="w-4 h-4"></i> </button>
        </div>
    {% endfor %}
{% endif %}
<!-- BEGIN: Notification -->

<!-- BEGIN: Content -->
<div class="mt-5">
    
    <!-- BEGIN: Profile Info -->
    <div class="intro-y box px-5 pt-5">
        <div class="flex flex-col lg:flex-row border-b border-slate-200/60 dark:border-darkmode-400 pb-5 -mx-5">
            <div class="flex flex-1 px-5 items-center justify-center lg:justify-start">
                <div class="w-20 h-20 sm:w-24 sm:h-24 flex-none lg:w-32 lg:h-32 image-fit relative">
                    <img alt="Midone - HTML Admin Template" class="rounded-full" src="{% static 'dashboard/images/collage.jpg' %}">
                </div>
                <div class="ml-5">
                    <div class="truncate sm:whitespace-normal font-medium text-lg">{{ collage.Name }}</div>
                    <div class="text-slate-500">{{ collage.Place }}</div>
                </div>
            </div>
            <div class="mt-6 lg:mt-0 flex-1 flex items-center justify-center px-5 border-t lg:border-0 border-slate-200/60 dark:border-darkmode-400 pt-5 lg:pt-0">
                <div class="text-center rounded-md w-20 py-3">
                    <div class="font-medium text-primary text-xl">{{ students.count }}</div>
                    <div class="text-slate-500">Admissions</div>
                </div>
                <div class="text-center rounded-md w-20 py-3">
                    <div class="font-medium text-primary text-xl">492</div>
                    <div class="text-slate-500">Reviews</div>
                </div>
            </div>
        </div>
        <ul class="nav nav-link-tabs flex-col sm:flex-row justify-center lg:justify-start text-center" role="tablist" >
            <li id="admissions-tab" class="nav-item" role="presentation">
                <a href="javascript:;" class="nav-link py-4 flex items-center active" data-tw-target="#admissions" aria-controls="profile" aria-selected="true" role="tab" > <i class="w-4 h-4 mr-2" data-lucide="user"></i> Admissions </a>
            </li>
            <li id="accounts-tab" class="nav-item" role="presentation">
                <a href="javascript:;" class="nav-link py-4 flex items-center" data-tw-target="#accounts" aria-selected="false" role="tab" > <i class="w-4 h-4 mr-2" data-lucide="shield"></i> Accounts </a>
            </li>
        </ul>
    </div>
    <!-- END: Profile Info -->

    <div class="tab-content mt-5">
        <div id="admissions" class="tab-pane active" role="tabpanel" aria-labelledby="admissions-tab">
            <div class="grid grid-cols-12 gap-6">
                <div class="col-span-12 flex justify-center">
                    <h2 class="text-primary py-5" style="font-size: 30px; font-weight: 500; text-align: center;">Admissions List</h2>
                </div>

                <!-- BEGIN: Data List -->
                {% if students %}
                    <div class="intro-y col-span-12 overflow-auto 2xl:overflow-visible">
                        <table class="table table-report -mt-2">
                            <thead>
                                <tr>
                                    <th class="text-center whitespace-nowrap">SL. NO.</th>
                                    <th class="text-center whitespace-nowrap">NAME</th>
                                    <th class="text-center whitespace-nowrap">MOBILE</th>
                                    <th class="text-center whitespace-nowrap">COURSE</th>
                                    <th class="text-center whitespace-nowrap">AMOUNT</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for student in students %}
                                    <tr class="intro-x">

                                        <td class="text-center whitespace-nowrap">
                                            {{ forloop.counter }}
                                        </td>

                                        <td class="text-center whitespace-nowrap">
                                            <a href="" class="font-medium whitespace-nowrap">{{ student.Name }}</a>    
                                        </td>

                                        <td class="text-center whitespace-nowrap">
                                            {{ student.Mobile }}
                                        </td>

                                        <td class="text-center whitespace-nowrap">
                                            {{ student.Course }}
                                        </td>

                                        <td class="text-center whitespace-nowrap">
                                            {{ student.First_Payment }}
                                        </td>

                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                {% else %}
                    <div class="intro-y col-span-12 overflow-auto 2xl:overflow-visible">
                        <table class="table table-report -mt-2">
                            <tbody>
                                <tr class="intro-x width"> 
                                    <td class=" width" style="width:100%;">
                                        <i data-lucide="hard-drive" style="width:60px; height:60px; margin-left: auto; margin-right: auto; display: block; padding: 10px; border-radius: 50%;
                                            background: #e8e4e4;" class="w-4 h-4 mr-2 text-primary">  
                                        </i>
                                    <div style="text-align: center;">No data available!</div>
                                    </td>   
                                </tr>    
                            </tbody>
                        </table>
                    </div>
                {% endif %}
                <!-- END: Data List -->
            </div>
        </div>

        <div id="accounts" class="tab-pane" role="tabpanel" aria-labelledby="accounts-tab">
            <div class="grid grid-cols-12 gap-6">
                <div class="col-span-12 flex justify-center">
                    <h2 class="text-primary py-5" style="font-size: 30px; font-weight: 500; text-align: center;">Accounts</h2>
                </div>
                <!-- BEGIN: Data List -->
                {% if transactions %}
                    <div class="intro-y col-span-12 overflow-auto 2xl:overflow-visible">
                        <table class="table table-report -mt-2">
                            <thead>
                                <tr>
                                    <th class="text-center whitespace-nowrap">SL. NO.</th>
                                    <th class="text-center whitespace-nowrap">TITLE</th>
                                    <th class="text-center whitespace-nowrap">DATE</th>
                                    <th class="text-center whitespace-nowrap">TYPE</th>
                                    <th class="text-center whitespace-nowrap">AMOUNT</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for transaction in transactions %}
                                    <tr class="intro-x">

                                        <td class="text-center whitespace-nowrap">
                                            {{ forloop.counter }}
                                        </td>

                                        <td class="text-center whitespace-nowrap">
                                            <a href="" class="font-medium whitespace-nowrap">{{ transaction.Title }}</a>    
                                        </td>

                                        <td class="text-center whitespace-nowrap">
                                            {{ transaction.Date | date:'d M Y' }}
                                        </td>

                                        <td class="text-center whitespace-nowrap">
                                            {% if transaction.Category.Type == 'Income' %}
                                                <span class="text-success font-medium">{{ transaction.Category.Type }}</span>
                                            {% elif transaction.Category.Type == 'Expense' %}
                                                <span class="text-danger font-medium">{{ transaction.Category.Type }}</span>
                                            {% endif %}
                                        </td>

                                        <td class="text-center whitespace-nowrap">
                                            {{ transaction.Amount }}
                                        </td>

                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                {% else %}
                    <div class="intro-y col-span-12 overflow-auto 2xl:overflow-visible">
                        <table class="table table-report -mt-2">
                            <tbody>
                                <tr class="intro-x width"> 
                                    <td class=" width" style="width:100%;">
                                        <i data-lucide="hard-drive" style="width:60px; height:60px; margin-left: auto; margin-right: auto; display: block; padding: 10px; border-radius: 50%;
                                            background: #e8e4e4;" class="w-4 h-4 mr-2 text-primary">  
                                        </i>
                                    <div style="text-align: center;">No data available!</div>
                                    </td>   
                                </tr>    
                            </tbody>
                        </table>
                    </div>
                {% endif %}
                <!-- END: Data List -->
            </div>
        </div>
    </div>

</div>
<!-- END: Content -->

{% endblock content %}